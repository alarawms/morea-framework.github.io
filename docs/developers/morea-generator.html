<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Morea Framework Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Morea Framework Blog Atom Feed"><title data-react-helmet="true">MoreaGenerator plugin | Morea Framework</title><meta data-react-helmet="true" property="og:url" content="https://morea-framework.github.io/docs/developers/morea-generator"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="MoreaGenerator plugin | Morea Framework"><meta data-react-helmet="true" name="description" content="The Morea plugin is a Jekyll plugin written in Ruby and located in the _plugins directory."><meta data-react-helmet="true" property="og:description" content="The Morea plugin is a Jekyll plugin written in Ruby and located in the _plugins directory."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://morea-framework.github.io/docs/developers/morea-generator"><link data-react-helmet="true" rel="alternate" href="https://morea-framework.github.io/docs/developers/morea-generator" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://morea-framework.github.io/docs/developers/morea-generator" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f980f89a.css">
<link rel="preload" href="/assets/js/runtime~main.ed4b34ec.js" as="script">
<link rel="preload" href="/assets/js/main.e2d63e1f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/morea-logo.png" alt="Morea Framework" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/morea-logo.png" alt="Morea Framework" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Morea Framework</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview/motivation">Motivation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/instructors/overview">Instructor Guide</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/developers/overview">Developer Guide</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/help">Help</a><a class="navbar__item navbar__link" href="/blog">News</a><a href="https://morea-framework.github.io/morea" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/morea-framework" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Overview</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/motivation">Motivation for Morea</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Instructor Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/instructors/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reference</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Developer Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/developers/morea-generator">MoreaGenerator plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/theme-customization">Customizing Morea themes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/morea-index-markdown">Morea index markdown files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/manage-this-site">Manage this site</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developers/markdown-features">Markdown Features</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Evaluation</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">MoreaGenerator plugin</h1></header><p>The Morea plugin is a Jekyll plugin written in Ruby and located in the <code>_plugins</code> directory.</p><p>The plugin code is pretty straightforward, though not well-written.  (Part of the attraction of developing the Morea Framework for me was the chance to try Ruby, so MoreaGenerator is my first and (at the time of writing) only Ruby program I have ever written.) I would gratefully accept pull requests that improve the structure and use of Ruby language idioms.</p><p>The plugin works as follows:</p><ol><li><p>The <code>generate()</code> method reads in all of the files in the <code>morea/</code> directory.  All files that end in the extension <code>.md</code> are assumed to be &quot;real&quot; Morea files, in that they should have morea IDs and so forth. These files are processed in the <code>processMoreaFile()</code> method.  Other files not ending in <code>.md</code> are just handed off to Jekyll for standard processing through the <code>processNonMoreaFile()</code> method.</p></li><li><p>The <code>processMoreaFile()</code> method creates a new <code>MoreaPage</code> instance corresponding to each file. A <code>MoreaPage</code> is just a regular Jekyll <code>Page</code> with some additional state, such as the related outcomes, referencing assessments, referencing modules, etc.</p></li><li><p>The <code>processMoreaFile()</code> method also figures out the type of the instance (i.e. Module, Outcome, Reading, Experience, or Assessment) and updates site variables that hold all of the defined Morea instances of each type.  In the case of Modules, there is a special instance called <code>ModulePage</code> that is created.</p></li><li><p>There is data validation done in both <code>processMoreaFile()</code> (where each page is checked for required YAML front matter, such as a morea_id field) and in the <code>generate()</code> method (after all of the pages are read in, we check to make sure that a reference to a morea_id has an associated instance and so forth.</p></li><li><p>If we have read in all of the files and didn&#x27;t detect any data validation errors, then the plugin ends normally after printing out some summary statistics.  If any fatal data validation errors occur, then the plugin prints out a message indicating the problem and calls <code>exit</code> to terminate Jekyll immediately.   Though experience, I&#x27;ve found it&#x27;s more user friendly to &quot;fail fast&quot; and force you to fix errors right away.</p></li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-08-01T16:50:39.000Z">8/1/2021</time></b> by <b>Philip Johnson</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/developers/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/developers/theme-customization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Customizing Morea themes Â»</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Morea Framework</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ed4b34ec.js"></script>
<script src="/assets/js/main.e2d63e1f.js"></script>
</body>
</html>